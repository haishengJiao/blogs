import{r as n,o as y,n as z,I as B,_ as b,h as D,aD as A,p as u,q as d,s as S,U as V,N as H,V as N,z as h,x as R,Z as T,O as U,P as X,v as Y,R as q,T as F,am as I}from"./framework-c053e3d1.js";function P(o){const i=n(!1),c=n(0),r=n(0),l=t=>{t.preventDefault(),t.stopPropagation(),i.value=!0,c.value=t.clientX,r.value=t.clientY},s=()=>{i.value=!1};return y(()=>{o.value.addEventListener("contextmenu",l),window.addEventListener("click",s,!0),window.addEventListener("contextmenu",s,!0)}),z(()=>{o.value.removeEventListener("contextmenu",l),window.removeEventListener("click",s,!0),window.removeEventListener("contextmenu",s,!0)}),{showMenu:i,x:c,y:r}}let f=0,_=0;typeof document<"u"&&(f=n(document.documentElement.clientWidth),_=n(document.documentElement.clientHeight));function W(){const o=()=>{f.value=document.documentElement.clientWidth,_.value=document.documentElement.clientHeight};return y(()=>{window.addEventListener("resize",o)}),B(()=>{window.removeEventListener("resize",o)}),{vw:f,vh:_}}const $={class:"menu-list"},O=["onClick"],Z={__name:"ContentMenu",props:{menu:{type:Array,default:()=>[]}},emits:"select",setup(o,{emit:i}){const c=n(null),{x:r,y:l,showMenu:s}=P(c),t=n(0),v=n(0),{vw:E,vh:p}=W(),w=D(()=>{let e=r.value,a=l.value;return r.value>E.value-t.value&&(e-=t.value),l.value>p.value-v.value&&(a-=l.value-p.value+v.value),{posX:e,posY:a}}),x=({width:e,height:a})=>{t.value=e,v.value=a},C=e=>{s.value=!1,i("select",e)},g=e=>{e.style.height=0},M=e=>{e.style.height="auto";const a=e.clientHeight;e.style.height=0,requestAnimationFrame(()=>{e.style.height=a+"px",e.style.transition=".5s"})},k=e=>{e.style.transition="none"};return(e,a)=>{const L=A("size-ob");return u(),d("div",{ref_key:"ContentMenuRef",ref:c,class:"1"},[S(e.$slots,"default",{},void 0,!0),(u(),V(I,{to:"body"},[H(F,{onBeforeEnter:g,onEnter:M,onAfterEnter:k},{default:N(()=>[h(s)?(u(),d("div",{key:0,class:"content-menu",style:R({left:h(w).posX+"px",top:h(w).posY+"px"})},[T((u(),d("div",$,[(u(!0),d(U,null,X(o.menu,m=>(u(),d("div",{class:"menu-item",onClick:j=>C(m),key:m.label},Y(m.label),9,O))),128))])),[[L,x]])],4)):q("v-if",!0)]),_:1})]))],512)}}},J=b(Z,[["__scopeId","data-v-9c04da59"],["__file","ContentMenu.vue"]]);export{J as default};
